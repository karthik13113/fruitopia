<!DOCTYPE html>
<html>

<head>
  <!-- Basic -->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <!-- Mobile Metas -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <title>Fruitopia</title>

  <!-- Slider stylesheet -->
  <link rel="stylesheet" type="text/css"
    href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.1.3/assets/owl.carousel.min.css" />

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/bootstrap.css') }}" />

  <!-- Fonts style -->
  <link href="https://fonts.googleapis.com/css?family=Poppins:400,700&display=swap" rel="stylesheet" />

  <!-- Custom styles for this template -->
  <link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet" />
  <link href="{{ url_for('static', filename='css/responsive.css') }}" rel="stylesheet" />
</head>

<body>
  <div class="hero_area sub_pages">
    <!-- Header section -->
    <header class="header_section">
      <div class="container">
        <nav class="navbar navbar-expand-lg custom_nav-container pt-3">
          <a class="navbar-brand" href="{{ url_for('index') }}">
            <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Fruitopia Logo" /><span>
              Fruitopia
            </span>
          </a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <div class="d-flex ml-auto flex-column flex-lg-row align-items-center">
              <ul class="navbar-nav">
                <li class="nav-item">
                  <a class="nav-link" href="{{ url_for('index') }}">Home</a>
                </li>
                <li class="nav-item active">
                  <a class="nav-link" href="{{ url_for('fruits') }}">Fruits</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="{{ url_for('services') }}">Services</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="{{ url_for('contact') }}">Contact us</a>
                </li>
              </ul>
            </div>
            
          </div>
        </nav>
      </div>
    </header>
    <!-- End header section -->
  </div>

 <!-- Fresh Fruits Section -->
 <section class="fruit_section layout_padding-top">
  <div class="container">
    <h2 class="custom_heading">Fresh Fruits</h2>
    <p class="custom_heading-text">Discover our fresh and organic fruits, perfect for a healthy lifestyle.</p>

    <!-- Fruit: Orange -->
    <div class="row layout_padding2">
      <div class="col-md-8">
        <div class="fruit_detail-box">
          <h3>Best Fresh Orange</h3>
          <p class="mt-4 mb-3">
            Fresh and juicy oranges packed with vitamin C to boost your immunity and refresh your day.
          </p>
          <div class="d-flex align-items-center">
            <input type="number" id="orangeQty" class="form-control w-25 mr-2" min="1" value="1">
            <select id="orangeWeight" class="form-control w-25 mr-2">
              <option value="250g">250g</option>
              <option value="500g">500g</option>
              <option value="1kg">1kg</option>
            </select>
            <button onclick="addToCart('Orange', document.getElementById('orangeQty').value, document.getElementById('orangeWeight').value)" class="custom_dark-btn">
              Add to Cart
            </button>
          </div>
        </div>
      </div>
      <div class="col-md-4 d-flex justify-content-center align-items-center">
        <div class="fruit_img-box">
          <img src="{{ url_for('static', filename='images/orange.png') }}" alt="Fresh Orange" width="250px" />
        </div>
      </div>
    </div>

    <!-- Fruit: Grapes -->
    <div class="row layout_padding2">
      <div class="col-md-8">
        <div class="fruit_detail-box">
          <h3>Best Fresh Grapes</h3>
          <p class="mt-4 mb-3">
            Sweet and succulent grapes, rich in antioxidants and bursting with flavor.
          </p>
          <div class="d-flex align-items-center">
            <input type="number" id="grapesQty" class="form-control w-25 mr-2" min="1" value="1">
            <select id="grapesWeight" class="form-control w-25 mr-2">
              <option value="250g">250g</option>
              <option value="500g">500g</option>
              <option value="1kg">1kg</option>
            </select>
            <button onclick="addToCart('Grapes', document.getElementById('grapesQty').value, document.getElementById('grapesWeight').value)" class="custom_dark-btn">
              Add to Cart
            </button>
          </div>
        </div>
      </div>
      <div class="col-md-4 d-flex justify-content-center align-items-center">
        <div class="fruit_img-box">
          <img src="{{ url_for('static', filename='images/grapes.png') }}" alt="Grapes" width="100px" />
        </div>
      </div>
    </div>

    <!-- Fruit: Guava -->
    <div class="row layout_padding2-top layout_padding-bottom">
      <div class="col-md-8">
        <div class="fruit_detail-box">
          <h3>Best Fresh Guava</h3>
          <p class="mt-4 mb-3">
            Nutritious and delicious guavas, loaded with fiber and essential vitamins.
          </p>
          <div class="d-flex align-items-center">
            <input type="number" id="guavaQty" class="form-control w-25 mr-2" min="1" value="1">
            <select id="guavaWeight" class="form-control w-25 mr-2">
              <option value="250g">250g</option>
              <option value="500g">500g</option>
              <option value="1kg">1kg</option>
            </select>
            <button onclick="addToCart('Guava', document.getElementById('guavaQty').value, document.getElementById('guavaWeight').value)" class="custom_dark-btn">
              Add to Cart
            </button>
          </div>
        </div>
      </div>
      <div class="col-md-4 d-flex justify-content-center align-items-center">
        <div class="fruit_img-box">
          <img src="{{ url_for('static', filename='images/gauva.png') }}" alt="Guava" width="250px" />
        </div>
      </div>
    </div>

    <!-- Fruit: Apple -->
    <div class="row layout_padding2">
        <div class="col-md-8">
            <div class="fruit_detail-box">
                <h3>Fresh Apple</h3>
                <p class="mt-4 mb-3">
                    Crisp and sweet apples, rich in fiber and antioxidants. Perfect for snacking or baking.
                </p>
                <div class="d-flex align-items-center">
                    <input type="number" id="appleQty" class="form-control w-25 mr-2" min="1" value="1">
                    <select id="appleWeight" class="form-control w-25 mr-2">
                        <option value="250g">250g</option>
                        <option value="500g">500g</option>
                        <option value="1kg">1kg</option>
                    </select>
                    <button onclick="addToCart('Apple', document.getElementById('appleQty').value, document.getElementById('appleWeight').value)" class="custom_dark-btn">
                        Add to Cart
                    </button>
                </div>
            </div>
        </div>
        <div class="col-md-4 d-flex justify-content-center align-items-center">
            <div class="fruit_img-box">
                <img src="{{ url_for('static', filename='images/apple.png') }}" alt="Fresh Apple" width="250px" />
            </div>
        </div>
    </div>

    <!-- Fruit: Banana -->
    <div class="row layout_padding2">
        <div class="col-md-8">
            <div class="fruit_detail-box">
                <h3>Fresh Banana</h3>
                <p class="mt-4 mb-3">
                    Sweet and nutritious bananas, packed with potassium and natural energy.
                </p>
                <div class="d-flex align-items-center">
                    <input type="number" id="bananaQty" class="form-control w-25 mr-2" min="1" value="1">
                    <select id="bananaWeight" class="form-control w-25 mr-2">
                        <option value="250g">250g</option>
                        <option value="500g">500g</option>
                        <option value="1kg">1kg</option>
                    </select>
                    <button onclick="addToCart('Banana', document.getElementById('bananaQty').value, document.getElementById('bananaWeight').value)" class="custom_dark-btn">
                        Add to Cart
                    </button>
                </div>
            </div>
        </div>
        <div class="col-md-4 d-flex justify-content-center align-items-center">
            <div class="fruit_img-box">
                <img src="{{ url_for('static', filename='images/banana.png') }}" alt="Fresh Banana" width="250px" />
            </div>
        </div>
    </div>

    <!-- Fruit: Kiwi -->
    <div class="row layout_padding2">
        <div class="col-md-8">
            <div class="fruit_detail-box">
                <h3>Fresh Kiwi</h3>
                <p class="mt-4 mb-3">
                    Tangy and sweet kiwis, loaded with vitamin C and dietary fiber.
                </p>
                <div class="d-flex align-items-center">
                    <input type="number" id="kiwiQty" class="form-control w-25 mr-2" min="1" value="1">
                    <select id="kiwiWeight" class="form-control w-25 mr-2">
                        <option value="250g">250g</option>
                        <option value="500g">500g</option>
                        <option value="1kg">1kg</option>
                    </select>
                    <button onclick="addToCart('Kiwi', document.getElementById('kiwiQty').value, document.getElementById('kiwiWeight').value)" class="custom_dark-btn">
                        Add to Cart
                    </button>
                </div>
            </div>
        </div>
        <div class="col-md-4 d-flex justify-content-center align-items-center">
            <div class="fruit_img-box">
                <img src="{{ url_for('static', filename='images/kiwi.png') }}" alt="Fresh Kiwi" width="250px" />
            </div>
        </div>
    </div>
  </div>
</section>

<script>
function addToCart(fruitName, quantity, weight) {
    if (quantity < 1) {
        alert("Please select at least 1 quantity.");
        return;
    }

    const data = {
        fruit: fruitName,
        quantity: parseInt(quantity),
        weight: weight
    };

    console.log('Sending data:', data); // Debug log

    fetch('/add_to_cart', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify(data)
    })
    .then(response => {
        console.log('Response status:', response.status); // Debug log
        return response.json().then(data => {
            if (!response.ok) {
                throw new Error(data.error || 'Network response was not ok');
            }
            return data;
        });
    })
    .then(data => {
        console.log('Success:', data); // Debug log
        alert("âœ… Item added to cart!");
        window.location.href = '/cart';
    })
    .catch(error => {
        console.error('Error details:', error); // Debug log
        alert("Error adding item to cart: " + error.message);
    });
}
</script>

  <!-- Footer section -->
  <section class="container-fluid footer_section">
    <p>
      Copyright &copy; 2025 All Rights Reserved By
      <a href="https://html.design/">Karthik M</a>
    </p>
  </section>
  <!-- End footer section -->

  <!-- Scripts -->
  <script type="text/javascript" src="{{ url_for('static', filename='js/jquery-3.4.1.min.js') }}"></script>
  <script type="text/javascript" src="{{ url_for('static', filename='js/bootstrap.js') }}"></script>

 
  </script>
  
</body>

</html>
