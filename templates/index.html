<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Basic Meta Tags -->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="keywords" content="Fruits, Fresh Fruits, Organic, Healthy Food" />
  <meta name="description" content="Fruitopia - Your one-stop shop for fresh and organic fruits." />
  <meta name="author" content="Fruitopia" />

  <title>Fruitopia</title>

  <!-- Stylesheets -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.1.3/assets/owl.carousel.min.css" />
  <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.css') }}" />
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}" />
  <link rel="stylesheet" href="{{ url_for('static', filename='css/responsive.css') }}" />
  <link href="https://fonts.googleapis.com/css?family=Poppins:400,700&display=swap" rel="stylesheet" />
  <script>
    function buyNow(fruitName) {
        // Redirect to product.html with the selected fruit name as a query parameter
        window.location.href = `product.html?fruit=${fruitName}`;
    }
</script>
</head>
<script src="script.js"></script>

<body>
  <div class="hero_area">
    <!-- Header Section -->
    <header class="header_section">
      <div class="container">
        <nav class="navbar navbar-expand-lg custom_nav-container pt-3">
          <a class="navbar-brand" href="{{ url_for('index') }}">
            <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Fruitopia Logo" /><span> Fruitopia </span>
          </a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ml-auto">
              <li class="nav-item active"><a class="nav-link" href="{{ url_for('index') }}">Home</a></li>
              <li class="nav-item"><a class="nav-link" href="{{ url_for('fruits') }}">Fruits</a></li>
              <li class="nav-item"><a class="nav-link" href="{{ url_for('services') }}">Services</a></li>
              <li class="nav-item"><a class="nav-link" href="{{ url_for('contact') }}">Contact Us</a></li>
              {% if session.get('user') %}
                <li class="nav-item">
                    <span class="nav-link">Welcome, {{ session['user']['name'] }}</span>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('logout') }}">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </a>
                </li>
              {% else %}
                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('login') }}">
                        <i class="fas fa-user"></i> Login
                    </a>
                </li>
              {% endif %}
              <li class="nav-item">
                <a class="nav-link" href="{{ url_for('cart') }}">
                    <i class="fas fa-shopping-cart"></i> Cart
                </a>
              </li>
            </ul>
          </div>
        </nav>
      </div>
    </header>

    <!-- Slider Section -->
    <section class="slider_section">
      <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
          <div class="carousel-item active">
            <div class="slider_item-box">
              <div class="container">
                <div class="row">
                  <div class="col-md-6">
                    <div class="slider_item-detail">
                      <h1>Welcome to <br /> Our Fruits Shop</h1>
                      <p>Discover the freshest and juiciest fruits, handpicked just for you! Enjoy healthy and flavorful delights today.</p>
                      <div class="d-flex">
                        <a href="{{ url_for('fruits') }}" class="btn btn-primary">Shop Now</a>
                        <a href="{{ url_for('contact') }}" class="btn btn-dark">Contact Us</a>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="slider_img-box">
                      <img src="{{ url_for('static', filename='images/slide-img.png') }}" alt="Fruits Display" />
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
    <!-- Fresh Fruits Section -->
    <section class="fruit_section layout_padding-top">
      <div class="container">
        <h2 class="custom_heading">Fresh Fruits</h2>
        <p class="custom_heading-text">Discover our fresh and organic fruits, perfect for a healthy lifestyle.</p>
    
        <!-- Fruit: Orange -->
        <div class="row layout_padding2">
          <div class="col-md-8">
            <div class="fruit_detail-box">
              <h3>Best Fresh Orange</h3>
              <p class="mt-4 mb-3">
                Fresh and juicy oranges packed with vitamin C to boost your immunity and refresh your day.
              </p>
              <div class="d-flex align-items-center">
                <input type="number" id="orangeQty" class="form-control w-25 mr-2" min="1" value="1">
                <select id="orangeWeight" class="form-control w-25 mr-2">
                  <option value="250g">250g</option>
                  <option value="500g">500g</option>
                  <option value="1kg">1kg</option>
                </select>
                <button onclick="addToCart('Orange', document.getElementById('orangeQty').value, document.getElementById('orangeWeight').value)" class="custom_dark-btn">
                  Add to Cart
                </button>
              </div>
            </div>
          </div>
          <div class="col-md-4 d-flex justify-content-center align-items-center">
            <div class="fruit_img-box">
              <img src="{{ url_for('static', filename='images/orange.png') }}" alt="Fresh Orange" width="250px" />
            </div>
          </div>
        </div>
    
        <!-- Fruit: Grapes -->
        <div class="row layout_padding2">
          <div class="col-md-8">
            <div class="fruit_detail-box">
              <h3>Best Fresh Grapes</h3>
              <p class="mt-4 mb-3">
                Sweet and succulent grapes, rich in antioxidants and bursting with flavor.
              </p>
              <div class="d-flex align-items-center">
                <input type="number" id="grapesQty" class="form-control w-25 mr-2" min="1" value="1">
                <select id="grapesWeight" class="form-control w-25 mr-2">
                  <option value="250g">250g</option>
                  <option value="500g">500g</option>
                  <option value="1kg">1kg</option>
                </select>
                <button onclick="addToCart('Grapes', document.getElementById('grapesQty').value, document.getElementById('grapesWeight').value)" class="custom_dark-btn">
                  Add to Cart
                </button>
              </div>
            </div>
          </div>
          <div class="col-md-4 d-flex justify-content-center align-items-center">
            <div class="fruit_img-box">
              <img src="{{ url_for('static', filename='images/grapes.png') }}" alt="Grapes" width="100px" />
            </div>
          </div>
        </div>
    
        <!-- Fruit: Guava -->
        <div class="row layout_padding2-top layout_padding-bottom">
          <div class="col-md-8">
            <div class="fruit_detail-box">
              <h3>Best Fresh Guava</h3>
              <p class="mt-4 mb-3">
                Nutritious and delicious guavas, loaded with fiber and essential vitamins.
              </p>
              <div class="d-flex align-items-center">
                <input type="number" id="guavaQty" class="form-control w-25 mr-2" min="1" value="1">
                <select id="guavaWeight" class="form-control w-25 mr-2">
                  <option value="250g">250g</option>
                  <option value="500g">500g</option>
                  <option value="1kg">1kg</option>
                </select>
                <button onclick="addToCart('Guava', document.getElementById('guavaQty').value, document.getElementById('guavaWeight').value)" class="custom_dark-btn">
                  Add to Cart
                </button>
              </div>
            </div>
          </div>
          <div class="col-md-4 d-flex justify-content-center align-items-center">
            <div class="fruit_img-box">
              <img src="{{ url_for('static', filename='images/gauva.png') }}" alt="Guava" width="250px" />
            </div>
          </div>
        </div>

        <!-- Fruit: Apple -->
        <div class="row layout_padding2">
            <div class="col-md-8">
                <div class="fruit_detail-box">
                    <h3>Fresh Apple</h3>
                    <p class="mt-4 mb-3">
                        Crisp and sweet apples, rich in fiber and antioxidants. Perfect for snacking or baking.
                    </p>
                    <div class="d-flex align-items-center">
                        <input type="number" id="appleQty" class="form-control w-25 mr-2" min="1" value="1">
                        <select id="appleWeight" class="form-control w-25 mr-2">
                            <option value="250g">250g</option>
                            <option value="500g">500g</option>
                            <option value="1kg">1kg</option>
                        </select>
                        <button onclick="addToCart('Apple', document.getElementById('appleQty').value, document.getElementById('appleWeight').value)" class="custom_dark-btn">
                            Add to Cart
                        </button>
                    </div>
                </div>
            </div>
            <div class="col-md-4 d-flex justify-content-center align-items-center">
                <div class="fruit_img-box">
                    <img src="{{ url_for('static', filename='images/apple.png') }}" alt="Fresh Apple" width="250px" />
                </div>
            </div>
        </div>

        <!-- Fruit: Banana -->
        <div class="row layout_padding2">
            <div class="col-md-8">
                <div class="fruit_detail-box">
                    <h3>Fresh Banana</h3>
                    <p class="mt-4 mb-3">
                        Sweet and nutritious bananas, packed with potassium and natural energy.
                    </p>
                    <div class="d-flex align-items-center">
                        <input type="number" id="bananaQty" class="form-control w-25 mr-2" min="1" value="1">
                        <select id="bananaWeight" class="form-control w-25 mr-2">
                            <option value="250g">250g</option>
                            <option value="500g">500g</option>
                            <option value="1kg">1kg</option>
                        </select>
                        <button onclick="addToCart('Banana', document.getElementById('bananaQty').value, document.getElementById('bananaWeight').value)" class="custom_dark-btn">
                            Add to Cart
                        </button>
                    </div>
                </div>
            </div>
            <div class="col-md-4 d-flex justify-content-center align-items-center">
                <div class="fruit_img-box">
                    <img src="{{ url_for('static', filename='images/banana.png') }}" alt="Fresh Banana" width="250px" />
                </div>
            </div>
        </div>

        <!-- Fruit: Kiwi -->
        <div class="row layout_padding2">
            <div class="col-md-8">
                <div class="fruit_detail-box">
                    <h3>Fresh Kiwi</h3>
                    <p class="mt-4 mb-3">
                        Tangy and sweet kiwis, loaded with vitamin C and dietary fiber.
                    </p>
                    <div class="d-flex align-items-center">
                        <input type="number" id="kiwiQty" class="form-control w-25 mr-2" min="1" value="1">
                        <select id="kiwiWeight" class="form-control w-25 mr-2">
                            <option value="250g">250g</option>
                            <option value="500g">500g</option>
                            <option value="1kg">1kg</option>
                        </select>
                        <button onclick="addToCart('Kiwi', document.getElementById('kiwiQty').value, document.getElementById('kiwiWeight').value)" class="custom_dark-btn">
                            Add to Cart
                        </button>
                    </div>
                </div>
            </div>
            <div class="col-md-4 d-flex justify-content-center align-items-center">
                <div class="fruit_img-box">
                    <img src="{{ url_for('static', filename='images/kiwi.png') }}" alt="Fresh Kiwi" width="250px" />
                </div>
            </div>
        </div>
      </div>
    </section>
    
    <script>
    function addToCart(fruitName, quantity, weight) {
        fetch('/add_to_cart', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                fruit: fruitName,
                quantity: parseInt(quantity),
                weight: weight
            })
        })
        .then(response => {
            if (response.status === 401) {
                // Unauthorized - redirect to login
                window.location.href = '/login';
                return;
            }
            return response.json();
        })
        .then(data => {
            if (data && data.success) {
                window.location.href = data.redirect;
            } else if (data && data.error) {
                alert('Error: ' + data.error);
            }
        })
        .catch(error => {
            console.error('Error:', error);
            alert('Failed to add item to cart');
        });
    }
</script>

  <!-- Services Section -->
  <section class="service_section layout_padding">
    <div class="container">
        <h2 class="custom_heading">Our Fresh Fruits</h2>
        <div class="layout_padding2">
            <div class="row">
                <!-- Orange -->
                <div class="col-md-4">
                    <div class="card">
                        <img class="card-img-top" src="{{ url_for('static', filename='images/orange.png') }}" alt="Orange">
                        <div class="card-body text-center">
                            <h5 class="card-title">Orange</h5>
                            
                        </div>
                    </div>
                </div>
                <!-- Apple -->
                <div class="col-md-4">
                    <div class="card">
                        <img class="card-img-top" src="{{ url_for('static', filename='images/apple.png') }}" alt="Apple">
                        <div class="card-body text-center">
                            <h5 class="card-title">Apple</h5>
                            
                        </div>
                    </div>
                </div>
                <!-- Banana -->
                <div class="col-md-4">
                    <div class="card">
                        <img class="card-img-top" src="{{ url_for('static', filename='images/banana.png') }}" alt="Banana">
                        <div class="card-body text-center">
                            <h5 class="card-title">Banana</h5>
                           
                        </div>
                    </div>
                </div>
                <!-- Kiwi -->
                <div class="col-md-4">
                    <div class="card mt-4">
                        <img class="card-img-top" src="{{ url_for('static', filename='images/kiwi.png') }}" alt="Kiwi">
                        <div class="card-body text-center">
                            <h5 class="card-title">Kiwi</h5>
                            
                        </div>
                    </div>
                </div>
                <!-- Add other fruits similarly -->
            </div>
        </div>
    </div>
</section>

<!-- Contact Section -->
<section class="contact_section layout_padding">
    <div class="container">
        <h2 class="font-weight-bold text-center mb-4">Contact Us</h2>
        <div class="row justify-content-center">
            <div class="col-md-8">
                <form id="contactForm">
                    <div class="contact_form-container">
                        <div class="form-group">
                            <input type="text" id="name" name="name" class="form-control" placeholder="Your Name" required>
                        </div>
                        <div class="form-group">
                            <input type="email" id="email" name="email" class="form-control" placeholder="Your Email" required>
                        </div>
                        <div class="form-group">
                            <input type="tel" id="phone" name="phone" class="form-control" placeholder="Phone Number" required>
                        </div>
                        <div class="form-group">
                            <textarea id="message" name="message" class="form-control" rows="4" placeholder="Your Message" required></textarea>
                        </div>
                        <div class="text-center">
                            <button type="button" onclick="submitContactForm()" class="btn btn-primary">Send Message</button>
                        </div>
                    </div>
                </form>
                <div id="formMessage" class="mt-3 text-center" style="display: none;"></div>
            </div>
        </div>
    </div>
</section>

<!-- Add this JavaScript code right after the contact form -->
<script>
function submitContactForm() {
    // Get form data
    const formData = {
        name: document.getElementById('name').value,
        email: document.getElementById('email').value,
        phone: document.getElementById('phone').value,
        message: document.getElementById('message').value
    };

    // Validate form data
    if (!formData.name || !formData.email || !formData.phone || !formData.message) {
        showMessage('Please fill in all fields', 'error');
        return;
    }

    // Show loading state
    const submitButton = document.querySelector('#contactForm button');
    submitButton.disabled = true;
    submitButton.textContent = 'Sending...';

    // Send data to server
    fetch('/api/contact', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify(formData)
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            showMessage('Thank you for your message! We will contact you soon.', 'success');
            document.getElementById('contactForm').reset();
        } else {
            showMessage(data.error || 'Failed to send message', 'error');
        }
    })
    .catch(error => {
        console.error('Error:', error);
        showMessage('Something went wrong. Please try again.', 'error');
    })
    .finally(() => {
        // Reset button state
        submitButton.disabled = false;
        submitButton.textContent = 'Send Message';
    });
}

function showMessage(message, type) {
    const messageDiv = document.getElementById('formMessage');
    messageDiv.style.display = 'block';
    messageDiv.className = `alert alert-${type === 'success' ? 'success' : 'danger'}`;
    messageDiv.textContent = message;

    // Hide message after 5 seconds
    setTimeout(() => {
        messageDiv.style.display = 'none';
    }, 5000);
}
</script>

<!-- Add this CSS -->
<style>
.alert {
    padding: 15px;
    margin-bottom: 20px;
    border: 1px solid transparent;
    border-radius: 4px;
}

.alert-success {
    color: #155724;
    background-color: #d4edda;
    border-color: #c3e6cb;
}

.alert-danger {
    color: #721c24;
    background-color: #f8d7da;
    border-color: #f5c6cb;
}
</style>

<!-- End Contact Section -->

<!-- Footer Section -->
<footer class="bg-dark text-white pt-5 pb-4">
  <div class="container text-center text-md-left">
      <div class="row text-center text-md-left">
          <!-- About Us Section -->
          <div class="col-md-4 col-lg-4 col-xl-4 mx-auto mt-3">
              <h5 class="text-uppercase mb-4 font-weight-bold text-warning">About Us</h5>
              <p>
                  Fruitopia is your one-stop shop for fresh, organic fruits delivered straight to your door. 
                  We ensure quality, freshness, and sustainability in every bite. 
              </p>
          </div>

          <!-- Contact Details -->
          <div class="col-md-4 col-lg-4 col-xl-4 mx-auto mt-3">
              <h5 class="text-uppercase mb-4 font-weight-bold text-warning">Contact</h5>
              <p><i class="fas fa-home mr-3"></i> Jain University, Bangalore</p>
              <p><i class="fas fa-envelope mr-3"></i> support@fruitopia.com</p>
              <p><i class="fas fa-phone mr-3"></i> +91 8270786665</p>
          </div>

          <!-- Social Media Links -->
          <div class="social-media mt-3">
            <h5 class="text-uppercase mb-3 font-weight-bold text-warning">Follow Us</h5>
            <p>
                <a href="https://www.instagram.com/yourusername" class="text-white text-decoration-none" target="_blank">
                    <i class="fab fa-instagram fa-lg me-2"></i> @fruitopia_official
                </a>
            </p>
            <p>
                <a href="https://www.facebook.com/yourusername" class="text-white text-decoration-none" target="_blank">
                    <i class="fab fa-facebook-f fa-lg me-2"></i> @fruitopia
                </a>
            </p>
        </div>
      </div>

      <hr class="mb-4">

      <!-- Copyright -->
      
  </div>
</footer>



<!-- JS Files -->
<script src="{{ url_for('static', filename='js/jquery-3.4.1.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/bootstrap.js') }}"></script>

<!-- Google Maps -->
<script>
  function initMap() {
    var map = new google.maps.Map(document.getElementById('map'), {
      zoom: 11,
      center: { lat: 40.645037, lng: -73.880224 },
    });

    var image = "{{ url_for('static', filename='images/maps-and-flags.png') }}";
    var beachMarker = new google.maps.Marker({
      position: { lat: 40.645037, lng: -73.880224 },
      map: map,
      icon: image
    });
  }
</script>
<!-- Footer Section -->
  <footer class="footer_section">
    <div class="container">
      <p>© 2025 Fruitopia. All Rights Reserved By Karthik M.</p>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="{{ url_for('static', filename='jquery-3.4.1.min.js') }}"></script>
  <script src="{{ url_for('static', filename='bootstrap.js') }}"></script>
  <script src="{{ url_for('static', filename='script.js') }}"></script>
  <script src="{{ url_for('static', filename='main.js') }}"></script>
  

</body>
</html>
